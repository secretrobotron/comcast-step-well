<!-- By Bobby Richter and Laura de Reynal -->
<!-- License: MIT & CC-NonCommercial -->
<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open%20Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="main.js"></script>
  </head>
  <body>
    <div id="start-container">
      <div id="loading">Loading</div>
      <div id="start-button">Enter the Stepwell</div>
    </div>
    <div id="visuals">
      <div>
        <!-- BROCCOLI SERIES -->
        <img src="assets/images/1/56-small.jpg">
        <img src="assets/images/1/57-small.jpg">
        <img src="assets/images/1/58-small.jpg">
        <img src="assets/images/1/59-small.jpg">
        <img src="assets/images/1/60-small.jpg">
        <img src="assets/images/1/61-small.jpg">
        <img src="assets/images/1/62-small.jpg">
        <img src="assets/images/1/63-small.jpg">
        <img src="assets/images/1/64-small.jpg">
        <img src="assets/images/1/65-small.jpg">
        <img src="assets/images/1/66-small.jpg">
        <img src="assets/images/1/67-small.jpg">
        <img src="assets/images/1/68-small.jpg">
        <img src="assets/images/1/69-small.jpg">
        <img src="assets/images/1/70-small.jpg">
        <img src="assets/images/1/71-small.jpg">
        <img src="assets/images/1/72-small.jpg">
        <img src="assets/images/1/73-small.jpg">
        <img src="assets/images/1/74-small.jpg">
        <img src="assets/images/1/75-small.jpg">
        <img src="assets/images/1/76-small.jpg">
        <img src="assets/images/1/77-small.jpg">

        <!-- TALI SERIES -->
        <img src="assets/images/2/01.jpg">
        <img src="assets/images/2/02.jpg">
        <img src="assets/images/2/03.jpg">
        <img src="assets/images/2/04.jpg">
        <img src="assets/images/2/05.jpg">
        <img src="assets/images/2/06.jpg">
        <img src="assets/images/2/07.jpg">
        <img src="assets/images/2/08.jpg">
        <img src="assets/images/2/09.jpg">
        <img src="assets/images/2/10.jpg">
        <img src="assets/images/2/11.jpg">
        <img src="assets/images/2/12.jpg">
      </div>
      <div id="caption">
        <div id="title">Adalaj Stepwell</div>
        <div id="subtitle">Ahmedabad, India</div>
      </div>
    </div>
    <audio preload="auto">
      <source src="assets/audio/DR0000_0055.wav.mp3" type="audio/mp3"></source>
    </audio>
    <audio preload="auto">
      <source src="assets/audio/DR0000_0054.wav.mp3" type="audio/mp3"></source>
    </audio>
    <audio preload="auto">
      <source src="assets/audio/DR0000_0058.wav.mp3" type="audio/mp3"></source>
    </audio>
    <audio preload="auto">
      <source src="assets/audio/DR0000_0059.wav.mp3" type="audio/mp3"></source>
    </audio>
    <script>
      (function () {
        var items = Array.prototype.slice.call(document.querySelectorAll('img')).concat(Array.prototype.slice.call(document.querySelectorAll('audio')));
        var onDone = null;

        function check() {
          if (window._loader.items == window._loader.loaded) {
            setTimeout(onDone, 10);
          }
          document.querySelector('#loading').textContent = 'Loading ' + Math.round(window._loader.loaded / window._loader.items*100);
        }

        window._loader = {
          items: items.length,
          loaded: 0,
          callWhenDone: function (callback) {
            onDone = callback;
            check();
          }
        };

        items.forEach(function (item) {
          item.onload = function (e) {
            window._loader.loaded++;
            check();
          };

          item.onloadedmetadata = function (e) {
            window._loader.loaded++;
            check();
          };
        });
      })();
    </script>
  </body>
</html>